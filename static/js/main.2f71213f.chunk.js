(this["webpackJsonpcompany-finder"]=this["webpackJsonpcompany-finder"]||[]).push([[0],[,,,,function(e,a,t){e.exports=t(15)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(3),r=t.n(l),u=(t(9),t(1)),o=(t(10),function(e){var a=e.guidValue,t=e.queryValue,n=e.handleSubmit;return c.a.createElement("form",{onSubmit:function(e){return n(e)}},c.a.createElement("div",{className:"container-input"},c.a.createElement("label",null,"GUID KEY"),c.a.createElement("input",{type:"text",ref:a,required:!0})),c.a.createElement("div",{className:"container-input"},c.a.createElement("label",null,"SEARCH"),c.a.createElement("input",{type:"text",ref:t,required:!0})),c.a.createElement("button",{type:"submit"},"SUBMIT"))}),i=(t(11),function(e){var a=e.companyData,t=Object(n.useState)(!0),l=Object(u.a)(t,2),r=l[0],o=l[1];return c.a.createElement("li",{className:"company-title",onClick:function(){return o(!r)}},a.Name?a.Name:a.EntityName,c.a.createElement("span",{className:"toggle-icon"},r?"+":"-"),r?null:c.a.createElement("ul",{onClick:function(e){return function(e){e.stopPropagation()}(e)}},Object.keys(a).map((function(e){return c.a.createElement("li",{className:"company-details",key:"".concat(e," ").concat(a[e])},e,": ",a[e])}))))}),m=(t(12),function(e){var a=e.data,t=e.queryValue,n=e.createUniqueKey;return c.a.createElement(c.a.Fragment,null,a?c.a.createElement("div",{className:"results-container"},c.a.createElement("p",{className:"query-message"},a.length," RESULT",1!==a.length?"S":null," FOR ",c.a.createElement("span",{className:"query"},'"',t.current.value,'"')),c.a.createElement("ul",null,a.map((function(e){return c.a.createElement(i,{companyData:e,key:n(e)})})))):null)});m.defaultProps={data:null};var s=m,p=(t(13),function(){var e=Object(n.useRef)(""),a=Object(n.useRef)(""),t=Object(n.useState)(null),l=Object(u.a)(t,2),r=l[0],i=l[1],m=Object(n.useState)(!1),p=Object(u.a)(m,2),f=p[0],E=p[1],b=Object(n.useState)(!1),d=Object(u.a)(b,2),y=d[0],h=d[1],g=function(){var t,n,c=a.current.value,l=e.current.value;"number"===typeof Number(c)&&11===c.length?(n="AbnDetails.aspx?callback=callback&abn=".concat(c,"&guid=").concat(l),t="callback("):(n="MatchingNames.aspx?callback=nameCallback&name=".concat(c,"&guid=").concat(l),t="nameCallback("),N(n,t)},N=function(e,a){(new Headers).append("Content-Type","text/plain; charset=ISO-8859-1"),fetch("https://abr.business.gov.au/json/".concat(e)).then((function(e){return e.text()})).then((function(e){var t=e.replace(a,"").slice(0,-1);t=JSON.parse(t),i("nameCallback("===a?t.Names:[t])})).catch((function(e){console.log(e),h(!1),E(!0)})).finally((function(){h(!1)}))},v=function(){return f?E(!1):null};return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"homepage-container"},c.a.createElement("h1",{className:"homepage-title"},"ABN LOOKUP"),c.a.createElement("p",{className:"homepage-description"},"Search by ABN or name. You will need a GUID key to search."),c.a.createElement(o,{isError:f,guidValue:e,queryValue:a,handleSubmit:function(e){e.preventDefault(),v(),h(!0),g()}}),f?c.a.createElement("p",{className:"error-message"},"GUID Key is incorrect, please check again"):null),c.a.createElement(c.a.Fragment,null,y?c.a.createElement("h2",null,"LOADING..."):c.a.createElement(s,{data:r,queryValue:a,createUniqueKey:function(e){return e.Name?"".concat(e.Name).concat(e.Abn):"".concat(e.EntityName).concat(e.Abn)}})))}),f=(t(14),function(){return c.a.createElement("div",{className:"App"},c.a.createElement(p,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[4,1,2]]]);
//# sourceMappingURL=main.2f71213f.chunk.js.map